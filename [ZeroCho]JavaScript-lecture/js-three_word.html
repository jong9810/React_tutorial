<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>쿵쿵따 게임</title>
</head>

<body>
  <div><span id="order">1</span>번째 참가자</div>
  <input type="text" />
  <button>입력</button>
  <script>
    // 변수 선언부
    const $order = document.querySelector('#order');
    const $input = document.querySelector('input');
    const $button = document.querySelector('button');
    const number = parseInt(prompt('참가 인원은 몇 명입니까? '));
    let letter; // 참가자가 말한 단어의 글자 수

    // 함수 선언부
    const onInput = (event) => {
      letter = event.target.value.length;
    }
    const onClick = () => {
      let order = Number($order.textContent);
      if (letter === 3) { // 세 글자 O
        if (order + 1 > number) {
          $order.textContent = 1;
        } else {
          $order.textContent = order + 1;
        }
      }
      else { // 세 글자 X
        const tryAgain = confirm('다시 도전하시겠습니까?');
        if(!tryAgain){
          alert(order + '번 참가자가 포기하셨습니다. 게임종료!')
        }
      }
      $input.value = '';
      $input.focus();
    }

    // 명령 실행부
    $input.addEventListener('input', onInput);
    $button.addEventListener('click', onClick);
  </script>

</body>

</html>